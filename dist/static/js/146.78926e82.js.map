{"version":3,"file":"static/js/146.78926e82.js","mappings":"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","sources":["webpack://vue-waimai/./src/components/Header.vue","webpack://vue-waimai/./src/components/Header.vue?801b","webpack://vue-waimai/./src/views/createOrder/CreateOrder.vue","webpack://vue-waimai/./src/views/createOrder/CreateOrder.vue?7aa1"],"sourcesContent":["<template>\r\n  <div class=\"header\">\r\n    <van-icon name=\"arrow-left\" class=\"icon\" @click=\"toBack\" />\r\n    <div>{{ title }}</div>\r\n    <div class=\"edit\" v-if=\"edit\" @click=\"handleEdit\">\r\n      {{ store.state.edit ? \"编辑\" : \"完成\" }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { Toast } from \"vant\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  props: [\"title\", \"edit\"],\r\n  setup() {\r\n    const router = useRouter();\r\n    const store = useStore();\r\n    const toBack = () => {\r\n      router.back();\r\n    };\r\n    const handleEdit = () => {\r\n      if (store.state.cartList.length) {\r\n        store.commit(\"edit\");\r\n        store.commit(\"ChangeDelete\");\r\n      } else {\r\n        Toast.fail(\"请添加商品到购物车!\");\r\n      }\r\n    };\r\n    return {\r\n      toBack,\r\n      handleEdit,\r\n      store,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.header {\r\n  background-color: #fff;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid #d7d7d7;\r\n  .edit {\r\n    font-size: 16px;\r\n    position: absolute;\r\n    right: 15px;\r\n    font-weight: normal;\r\n  }\r\n  .icon {\r\n    position: absolute;\r\n    left: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=1b4411f3&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=1b4411f3&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b4411f3\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"create-order\">\r\n        <Header title=\"生成订单\" />\r\n        <van-contact-card type=\"edit\" :tel=\"tel\" :name=\"name\" @click=\"onEdit\" />\r\n        <div class=\"content\">\r\n            <div v-for=\"(item,index) in store.state.orderList\" >\r\n                <van-card\r\n                  :num=\"item.num\"\r\n                  :price=\"item.price\"\r\n                  :title=\"item.title\"\r\n                  :thumb=\"item.pic\"\r\n                />\r\n            </div>\r\n       \r\n        </div>\r\n        <div class=\"pay-wrap\">\r\n            <div class=\"price\">\r\n                <span>商品金额</span>\r\n                <span>￥{{totalPrice}}</span>\r\n            </div>\r\n            <van-button type=\"primary\" class=\"pay-btn\" block color=\"#ffc400\" @click=\"handleCreateOrder\">生产订单</van-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../../components/Header.vue';\r\nimport {reactive,toRefs,onMounted} from 'vue';\r\nimport {useStore} from 'vuex';\r\nimport {useRouter,useRoute} from 'vue-router'\r\nimport { Dialog } from 'vant';\r\nexport default{\r\n    components:{\r\n        Header,\r\n    },\r\n    setup(){\r\n        const data = reactive({\r\n            tel:'13726903028',\r\n            name:'QXM',\r\n            totalPrice:0\r\n        })\r\n        const store = useStore();\r\n        const router = useRouter();\r\n        const route = useRoute();\r\n        const onEdit = ()=>{\r\n            router.push('/address')\r\n        };\r\n        const initPrice = ()=>{\r\n            let price = 0\r\n            if(store.state.orderList.length){\r\n                store.state.orderList.forEach((item)=>{\r\n                    price += item.num * item.price;\r\n                });\r\n            }\r\n            data.totalPrice = price;\r\n        }\r\n        //初始化用户的地址\r\n        const initUser = ()=>{\r\n            store.state.userAddress.forEach(item=>{\r\n                if(item.isDefault){\r\n                    data.name = item.name\r\n                    data.tel = item.tel\r\n                }\r\n            })\r\n        }\r\n        const handleCreateOrder = ()=>{\r\n            Dialog({\r\n              title: '提示',\r\n              message: '生成订单成功',\r\n            }).then(() => {\r\n                //要和购物车联系起来\r\n                let newList = store.state.cartList.filter(item=>{\r\n                    return !route.query.list.includes(item.id+\"\");\r\n                });\r\n                store.commit('delete',newList);\r\n                store.commit('orderListEnd');\r\n                router.push('/order');\r\n            });\r\n        }\r\n        onMounted(()=>{\r\n            initPrice();\r\n            initUser();\r\n        })\r\n        return{\r\n            ...toRefs(data),\r\n            onEdit,\r\n            store,\r\n            handleCreateOrder,\r\n        };\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.create-order {\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: 100%;\r\n  .content {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n  }\r\n  .pay-wrap {\r\n    padding: 10px 0;\r\n    width: 100%;\r\n    background: #fff;\r\n    border-top: 1px solid #e9e9e9;\r\n    > div {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 0 5%;\r\n      margin: 10px 0;\r\n      font-size: 14px;\r\n      span:nth-child(2) {\r\n        color: red;\r\n        font-size: 18px;\r\n      }\r\n    }\r\n    .pay-btn {\r\n      width: 90%;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./CreateOrder.vue?vue&type=template&id=c34f0ba2&scoped=true\"\nimport script from \"./CreateOrder.vue?vue&type=script&lang=js\"\nexport * from \"./CreateOrder.vue?vue&type=script&lang=js\"\n\nimport \"./CreateOrder.vue?vue&type=style&index=0&id=c34f0ba2&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c34f0ba2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_van_icon","name","onClick","$setup","toBack","_createElementVNode","_toDisplayString","$props","title","edit","_cache","args","handleEdit","store","state","props","setup","router","useRouter","useStore","back","cartList","length","commit","Toast","__exports__","render","_component_Header","_component_van_contact_card","type","tel","_ctx","onEdit","_hoisted_2","_Fragment","_renderList","orderList","item","index","_component_van_card","num","price","thumb","pic","_hoisted_3","_hoisted_4","_hoisted_5","totalPrice","_component_van_button","block","color","handleCreateOrder","components","Header","data","reactive","route","useRoute","push","initPrice","forEach","initUser","userAddress","isDefault","Dialog","message","then","newList","filter","query","list","includes","id","onMounted","toRefs"],"sourceRoot":""}