"use strict";(self["webpackChunkvue_waimai"]=self["webpackChunkvue_waimai"]||[]).push([[870],{6794:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(3396),i=n(7139);const d={class:"header"};function c(e,t,n,c,o,l){const s=(0,a.up)("van-icon");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(s,{name:"arrow-left",class:"icon",onClick:c.toBack},null,8,["onClick"]),(0,a._)("div",null,(0,i.zw)(n.title),1),n.edit?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"edit",onClick:t[0]||(t[0]=(...e)=>c.handleEdit&&c.handleEdit(...e))},(0,i.zw)(c.store.state.edit?"编辑":"完成"),1)):(0,a.kq)("",!0)])}var o=n(2483),l=n(9733),s=n(65),r={props:["title","edit"],setup(){const e=(0,o.tv)(),t=(0,s.oR)(),n=()=>{e.back()},a=()=>{t.state.cartList.length?(t.commit("edit"),t.commit("ChangeDelete")):l.F.fail("请添加商品到购物车!")};return{toBack:n,handleEdit:a,store:t}}},m=n(89);const u=(0,m.Z)(r,[["render",c],["__scopeId","data-v-1b4411f3"]]);var p=u},1465:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(3396),i=n(7139);const d={class:"content-item"},c={class:"left"},o=["src"],l={class:"text"},s={class:"title"},r={class:"price"};function m(e,t,n,m,u,p){const v=(0,a.up)("van-checkbox"),h=(0,a.up)("van-icon"),f=(0,a.up)("van-stepper");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",c,[n.showCheckBox?((0,a.wg)(),(0,a.j4)(v,{key:0,name:n.item.id,"checked-color":"#ffc400"},null,8,["name"])):(0,a.kq)("",!0),(0,a._)("img",{src:n.item.pic},null,8,o),(0,a._)("div",l,[(0,a._)("div",s,(0,i.zw)(n.item.title),1),n.item.add?((0,a.wg)(),(0,a.j4)(h,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>n.handleAdd(n.item.id))})):((0,a.wg)(),(0,a.j4)(f,{key:1,modelValue:n.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>n.item.num=e),onChange:n.handleChange,name:n.item.id},null,8,["modelValue","onChange","name"]))])]),(0,a._)("div",r," ￥"+(0,i.zw)(n.item.price),1)])}var u={props:["item","handleAdd","handleChange","showCheckBox"]},p=n(89);const v=(0,p.Z)(u,[["render",m],["__scopeId","data-v-7456fcb8"]]);var h=v},870:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(3396),i=n(7139);const d=e=>((0,a.dD)("data-v-52bf6b7c"),e=e(),(0,a.Cn)(),e),c={class:"storeDetails"},o={class:"content"},l=d((()=>(0,a._)("div",{class:"img"},null,-1))),s={class:"foodSort"},r={class:"name"},m=["src"],u={class:"sort"};function p(e,t,n,d,p,v){const h=(0,a.up)("Header"),f=(0,a.up)("FoodList"),g=(0,a.up)("van-tab"),b=(0,a.up)("van-tabs"),k=(0,a.up)("van-action-bar-icon"),w=(0,a.up)("van-action-bar-button"),C=(0,a.up)("van-action-bar");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(h,{title:"店铺"}),(0,a._)("div",o,[l,(0,a._)("div",s,[(0,a._)("div",r,[(0,a.Uk)((0,i.zw)(e.title)+" ",1),(0,a._)("img",{src:e.img,class:"store-img"},null,8,m)]),(0,a._)("div",u,[(0,a.Wm)(b,{color:"#ff6d6d"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.storeData,((e,t)=>((0,a.wg)(),(0,a.j4)(g,{title:e.name},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{index:t,foodData:e.data},null,8,["index","foodData"])])),_:2},1032,["title"])))),256))])),_:1})])])]),(0,a.Wm)(C,{class:"top-page"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{icon:"chat-o",text:"客服"}),(0,a.Wm)(k,{icon:"cart-o",text:"购物车",badge:d.store.state.cartList.length,onClick:d.goCart},null,8,["badge","onClick"]),(0,a.Wm)(w,{type:"warning",text:"加入购物车",onClick:d.handleAddCart},null,8,["onClick"]),(0,a.Wm)(w,{type:"danger",text:"立即购买",onClick:d.goBuy},null,8,["onClick"])])),_:1})])}n(7658);var v=n(4870),h=n(6794);const f={key:0,class:"food-list"},g={class:"item-bg"},b={key:1};function k(e,t,n,d,c,o){const l=(0,a.up)("list-item"),s=(0,a.up)("van-tree-select");return 0===n.index?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(s,{"main-active-index":e.activeIndex,"onUpdate:mainActiveIndex":t[0]||(t[0]=t=>e.activeIndex=t),height:"88vw",items:e.items,onClickNav:d.navClick},{content:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.subItem,((e,t)=>((0,a.wg)(),(0,a.iD)("div",g,[(0,a.Wm)(l,{item:e,handleAdd:d.handleAdd,handleChange:d.handleChange},null,8,["item","handleAdd","handleChange"])])))),256))])),_:1},8,["main-active-index","items","onClickNav"])])):((0,a.wg)(),(0,a.iD)("div",b,(0,i.zw)(n.foodData.content),1))}const w={class:"content-item"},C={class:"left"},_=["src"],x={class:"text"},D={class:"title"},I={class:"price"};function y(e,t,n,d,c,o){const l=(0,a.up)("van-icon"),s=(0,a.up)("van-stepper");return(0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",C,[(0,a._)("img",{src:n.item.pic},null,8,_),(0,a._)("div",x,[(0,a._)("div",D,(0,i.zw)(n.item.title),1),n.item.add?((0,a.wg)(),(0,a.j4)(l,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>n.handleAdd(n.item.id))})):((0,a.wg)(),(0,a.j4)(s,{key:1,modelValue:n.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>n.item.num=e),name:n.item.id,onChange:n.handleChange},null,8,["modelValue","name","onChange"]))])]),(0,a._)("div",I,"￥"+(0,i.zw)(n.item.price),1)])}var j={props:["item","handleAdd","handleChange"]},A=n(89);const W=(0,A.Z)(j,[["render",y],["__scopeId","data-v-d495a71a"]]);var E=W,Z=n(1465),z={props:["index","foodData"],components:{FoodListItem:E,ListItem:Z.Z},setup(e){let t=(0,v.qj)({activeIndex:0,items:[],subItem:[]});const n=()=>{let n=[];e.foodData?.items?.forEach(((e,a)=>{n.push({text:e.text}),t.activeIndex===a&&(t.subItem=e.children)})),t.items=n};n();const a=e=>{t.activeIndex=e,n()},i=e=>{t.subItem.forEach(((t,n)=>{t.id===e&&(t.add=!1)}))},d=(e,n)=>{t.subItem.forEach((t=>{t.id===n.name&&(t.num=e)})),console.log(t.subItem)};return{...(0,v.BK)(t),navClick:a,handleAdd:i,handleChange:d}}};const B=(0,A.Z)(z,[["render",k],["__scopeId","data-v-4d718e66"]]);var L=B,V=n(65),F=n(2483),q=n(9733),H={components:{Header:h.Z,FoodList:L},setup(){let e=(0,V.oR)(),t=(0,F.tv)(),n=(0,v.qj)({title:"美味的甜品",img:"http://p0.meituan.net/scpdeal/9543e34f59c343282a8f83926f72f585173498.jpg",storeData:[{name:"点菜",data:{content:"点菜",items:[{text:"热销套餐",children:[{pic:"http://p0.meituan.net/scpdeal/9543e34f59c343282a8f83926f72f585173498.jpg",title:"蜜雪冰城:冰鲜柠檬水",num:0,price:3.33,id:0,add:!0},{pic:"http://p0.meituan.net/deal/07e2777db61cbdef51510db38ef26dbe27030.jpg",title:"华莱士·全鸡汉堡",num:0,price:13.9,id:1,add:!0}]},{text:"超级折扣",children:[{pic:"http://p1.meituan.net/deal/8d5f77d0b08b88ddfc7f31434e0b9c0c173511.jpg",title:"茶百道[爆品冷萃茶2选1]",num:0,price:6.5,id:0,add:!0},{pic:"http://p0.meituan.net/scpdeal/4f5ebe38b981b8b539dbd0b2f9b7c76e4443418.png",title:"奈雪的茶",num:0,price:9.9,id:1,add:!0}]}]}},{name:"评价",data:{content:"评价"}},{name:"商家",data:{content:"商家"}}]});const a=t=>{const a=e.state.cartList||[];n.storeData.forEach((e=>{e.data.items?.forEach((e=>{e.children.forEach((e=>{e.num>0&&a.push(e)}))}))})),0!==a.length?(e.commit("addcart",a),"buy"===t&&i()):(0,q.F)("请选择商品")},i=()=>{t.push("/cart")},d=()=>{a("buy")};return{...(0,v.BK)(n),handleAddCart:a,store:e,goCart:i,goBuy:d}}};const K=(0,A.Z)(H,[["render",p],["__scopeId","data-v-52bf6b7c"]]);var U=K}}]);
//# sourceMappingURL=870.20008af2.js.map