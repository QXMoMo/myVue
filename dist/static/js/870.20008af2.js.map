{"version":3,"file":"static/js/870.20008af2.js","mappings":"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","sources":["webpack://vue-waimai/./src/components/Header.vue","webpack://vue-waimai/./src/components/Header.vue?801b","webpack://vue-waimai/./src/components/ListItem.vue","webpack://vue-waimai/./src/components/ListItem.vue?b8f3","webpack://vue-waimai/./src/views/store/Store.vue","webpack://vue-waimai/./src/views/store/components/FoodList.vue","webpack://vue-waimai/./src/views/store/components/FoodListItem.vue","webpack://vue-waimai/./src/views/store/components/FoodListItem.vue?69fb","webpack://vue-waimai/./src/views/store/components/FoodList.vue?ec3c","webpack://vue-waimai/./src/views/store/Store.vue?bb59"],"sourcesContent":["<template>\r\n  <div class=\"header\">\r\n    <van-icon name=\"arrow-left\" class=\"icon\" @click=\"toBack\" />\r\n    <div>{{ title }}</div>\r\n    <div class=\"edit\" v-if=\"edit\" @click=\"handleEdit\">\r\n      {{ store.state.edit ? \"编辑\" : \"完成\" }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { Toast } from \"vant\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  props: [\"title\", \"edit\"],\r\n  setup() {\r\n    const router = useRouter();\r\n    const store = useStore();\r\n    const toBack = () => {\r\n      router.back();\r\n    };\r\n    const handleEdit = () => {\r\n      if (store.state.cartList.length) {\r\n        store.commit(\"edit\");\r\n        store.commit(\"ChangeDelete\");\r\n      } else {\r\n        Toast.fail(\"请添加商品到购物车!\");\r\n      }\r\n    };\r\n    return {\r\n      toBack,\r\n      handleEdit,\r\n      store,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.header {\r\n  background-color: #fff;\r\n  height: 40px;\r\n  font-size: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid #d7d7d7;\r\n  .edit {\r\n    font-size: 16px;\r\n    position: absolute;\r\n    right: 15px;\r\n    font-weight: normal;\r\n  }\r\n  .icon {\r\n    position: absolute;\r\n    left: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=1b4411f3&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=1b4411f3&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1b4411f3\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"content-item\">\r\n        <div class=\"left\">\r\n            <van-checkbox :name=\"item.id\" v-if=\"showCheckBox\" checked-color=\"#ffc400\" />\r\n            <img :src=\"item.pic\" />\r\n            <div class=\"text\">\r\n                <div class=\"title\">{{ item.title }}</div>\r\n                <van-icon name=\"add-o\" v-if=\"item.add\"  @click=\"handleAdd(item.id)\"/>\r\n                <van-stepper v-model=\"item.num\" v-else  @change=\"handleChange\" :name=\"item.id\"/>\r\n            </div>\r\n        </div>\r\n        <div class=\"price\">\r\n           ￥{{ item.price }}\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default{\r\n    props:['item','handleAdd','handleChange','showCheckBox'],\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n .content-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 10px;\r\n      .price {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n      }\r\n      .left {\r\n        display: flex;\r\n        align-items: center;\r\n        flex: 1;\r\n        img {\r\n          margin-left: 10px;\r\n          width: 60px;\r\n          height: 60px;\r\n          margin-right: 10px;\r\n          border-radius: 10px;\r\n        }\r\n        .text {\r\n          display: flex;\r\n          flex-flow: column;\r\n          justify-content: space-between;\r\n          height: 100%;\r\n          position: relative;\r\n          flex: 1;\r\n          .title {\r\n            font-size: 16px;\r\n          }\r\n          .van-icon {\r\n            color: red;\r\n            font-size: 20px;\r\n            position: absolute;\r\n            right: 4px;\r\n            bottom: 4px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n</style>","import { render } from \"./ListItem.vue?vue&type=template&id=7456fcb8&scoped=true\"\nimport script from \"./ListItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListItem.vue?vue&type=script&lang=js\"\n\nimport \"./ListItem.vue?vue&type=style&index=0&id=7456fcb8&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7456fcb8\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"storeDetails\">\r\n      <Header title=\"店铺\" />\r\n      <div class=\"content\">\r\n        <div class=\"img\"></div>\r\n        <div class=\"foodSort\">\r\n          <div class=\"name\">\r\n            {{ title }}\r\n            <img :src=\"img\" class=\"store-img\" />\r\n          </div>\r\n          <div class=\"sort\">\r\n            <van-tabs color=\"#ff6d6d\">\r\n              <van-tab v-for=\"(item, index) in storeData\" :title=\"item.name\">\r\n                <FoodList :index=\"index\" :foodData=\"item.data\" />\r\n              </van-tab>\r\n            </van-tabs>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        <van-action-bar class=\"top-page\">\r\n          <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\r\n          <van-action-bar-icon icon=\"cart-o\" text=\"购物车\" :badge=\"store.state.cartList.length\" @click=\"goCart\" />\r\n          <van-action-bar-button type=\"warning\" text=\"加入购物车\" @click=\"handleAddCart\" />\r\n          <van-action-bar-button type=\"danger\" text=\"立即购买\" @click=\"goBuy\"/>\r\n        </van-action-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive,toRefs } from \"vue\";\r\nimport Header from \"../../components/Header.vue\";\r\nimport FoodList from \"./components/FoodList.vue\";\r\nimport {useStore} from 'vuex';\r\nimport {useRouter} from 'vue-router';\r\nimport { Toast } from 'vant';\r\nexport default{\r\n    components:{\r\n        Header,\r\n        FoodList,\r\n    },\r\n    setup(){\r\n        let store = useStore();\r\n        let router = useRouter();\r\n        let data = reactive({\r\n            title:'美味的甜品',\r\n            img:'http://p0.meituan.net/scpdeal/9543e34f59c343282a8f83926f72f585173498.jpg',\r\n            storeData: [\r\n        {\r\n          name: \"点菜\",\r\n          data: {\r\n            content: \"点菜\",\r\n            items: [\r\n              {\r\n                text: \"热销套餐\",\r\n                children: [\r\n                  {\r\n                    pic: \"http://p0.meituan.net/scpdeal/9543e34f59c343282a8f83926f72f585173498.jpg\",\r\n                    title: \"蜜雪冰城:冰鲜柠檬水\",\r\n                    num: 0,\r\n                    price: 3.33,\r\n                    id: 0,\r\n                    add: true,\r\n                  },\r\n                  {\r\n                    pic: \"http://p0.meituan.net/deal/07e2777db61cbdef51510db38ef26dbe27030.jpg\",\r\n                    title: \"华莱士·全鸡汉堡\",\r\n                    num: 0,\r\n                    price: 13.9,\r\n                    id: 1,\r\n                    add: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                text: \"超级折扣\",\r\n                children: [\r\n                {\r\n                    pic: \"http://p1.meituan.net/deal/8d5f77d0b08b88ddfc7f31434e0b9c0c173511.jpg\",\r\n                    title: \"茶百道[爆品冷萃茶2选1]\",\r\n                    num: 0,\r\n                    price: 6.5,\r\n                    id: 0,\r\n                    add: true,\r\n                  },\r\n                  {\r\n                    pic: \"http://p0.meituan.net/scpdeal/4f5ebe38b981b8b539dbd0b2f9b7c76e4443418.png\",\r\n                    title: \"奈雪的茶\",\r\n                    num: 0,\r\n                    price: 9.9,\r\n                    id: 1,\r\n                    add: true,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          name: \"评价\",\r\n          data: {\r\n            content: \"评价\",\r\n          },\r\n        },\r\n        {\r\n          name: \"商家\",\r\n          data: {\r\n            content: \"商家\",\r\n          },\r\n        },\r\n      ],\r\n        });\r\n\r\n        const handleAddCart = (type) =>{\r\n          const newList = store.state.cartList || [];\r\n          data.storeData.forEach(item=>{\r\n            item.data.items?.forEach(item=>{\r\n              item.children.forEach(item=>{\r\n                if(item.num > 0){\r\n                  newList.push(item);\r\n                }\r\n              });\r\n            });\r\n          });\r\n          if(newList.length === 0){\r\n            Toast('请选择商品')\r\n            return;\r\n          }\r\n          store.commit('addcart', newList);\r\n          type === 'buy'? goCart():\"\";\r\n        };\r\n        const goCart = ()=>{\r\n          router.push('/cart');\r\n        };\r\n        const goBuy = ()=>{\r\n          handleAddCart('buy')\r\n        };\r\n        return{\r\n            ...toRefs(data),\r\n            handleAddCart,\r\n            store,\r\n            goCart,\r\n            goBuy,\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.storeDetails {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  .content {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    .img {\r\n      background: url(\"../../assets/beijing.jpg\") no-repeat center/cover;\r\n      width: 100%;\r\n      height: 150px;\r\n    }\r\n    .foodSort {\r\n      height: 500px;\r\n      background-color: #fff;\r\n      margin-top: -30px;\r\n      border-radius: 20px 20px 0 0;\r\n      .sort {\r\n        margin-top: 10px;\r\n      }\r\n      .name {\r\n        display: flex;\r\n        padding: 20px;\r\n        justify-content: space-between;\r\n        color: #ff6d6d;\r\n        .store-img {\r\n          width: 80px;\r\n          height: 80px;\r\n          border-radius: 10px;\r\n          margin-top: -30px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.top-page{\r\n  position: relative;\r\n  z-index: 9;\r\n  background-color: #fff;\r\n  overflow-y: auto;\r\n}\r\n</style>","<template>\r\n  <div class=\"food-list\" v-if=\"index === 0\">\r\n    <van-tree-select\r\n      v-model:main-active-index=\"activeIndex\"\r\n      height=\"88vw\"\r\n      :items=\"items\"\r\n      @click-nav=\"navClick\"\r\n    >\r\n      <template #content>\r\n        <div v-for=\"(item, index) in subItem\" class=\"item-bg\">\r\n          <list-item\r\n            :item=\"item\"\r\n            :handleAdd=\"handleAdd\"\r\n            :handleChange=\"handleChange\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </van-tree-select>\r\n  </div>\r\n  <div v-else>{{ foodData.content }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport FoodListItem from \"./FoodListItem.vue\";\r\nimport ListItem from \"../../../components/ListItem.vue\";\r\nexport default {\r\n  props: [\"index\", \"foodData\"],\r\n  components: {\r\n    FoodListItem,\r\n    ListItem,\r\n  },\r\n  setup(props) {\r\n    let data = reactive({\r\n      activeIndex: 0,\r\n      items: [],\r\n      subItem: [],\r\n    });\r\n\r\n    // 数据的初始化\r\n    const initData = () => {\r\n      let newArray = [];\r\n      props.foodData?.items?.forEach((item, index) => {\r\n        newArray.push({\r\n          text: item.text,\r\n        });\r\n        if (data.activeIndex === index) {\r\n          data.subItem = item.children;\r\n        }\r\n      });\r\n      data.items = newArray;\r\n    };\r\n    initData();\r\n    // 点击左侧的导航\r\n    const navClick = (i) => {\r\n      data.activeIndex = i;\r\n      initData();\r\n    };\r\n    const handleAdd = (id) => {\r\n      data.subItem.forEach((item, index) => {\r\n        if (item.id === id) {\r\n          item.add = false;\r\n        }\r\n      });\r\n    };\r\n    const handleChange = (value, detail) => {\r\n      data.subItem.forEach((item) => {\r\n        if (item.id === detail.name) {\r\n          item.num = value;\r\n        }\r\n      });\r\n      console.log(data.subItem);\r\n    };\r\n    return {\r\n      ...toRefs(data),\r\n      navClick,\r\n      handleAdd,\r\n      handleChange,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.food-list {\r\n  margin-top: 20px;\r\n  .item-bg {\r\n    padding: 10px;\r\n  }\r\n}\r\n/deep/ .van-tree-select__item--active {\r\n  color: #ff6d6d;\r\n}\r\n/deep/ .van-sidebar-item--select::before {\r\n  background-color: #ff6d6d;\r\n}\r\n</style>","<template>\r\n  <div class=\"content-item\">\r\n    <div class=\"left\">\r\n      <img :src=\"item.pic\" />\r\n      <div class=\"text\">\r\n        <div class=\"title\">{{ item.title }}</div>\r\n        <van-icon name=\"add-o\" v-if=\"item.add\" @click=\"handleAdd(item.id)\" />\r\n        <van-stepper\r\n          v-model=\"item.num\"\r\n          v-else\r\n          :name=\"item.id\"\r\n          @change=\"handleChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"price\">￥{{ item.price }}</div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: [\"item\", \"handleAdd\", \"handleChange\"],\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.content-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  .price {\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n  }\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n    flex: 1;\r\n    img {\r\n      margin-left: 10px;\r\n      width: 60px;\r\n      height: 60px;\r\n      margin-right: 10px;\r\n      border-radius: 10px;\r\n    }\r\n    .text {\r\n      display: flex;\r\n      flex-flow: column;\r\n      justify-content: space-between;\r\n      height: 100%;\r\n      position: relative;\r\n      flex: 1;\r\n      .title {\r\n        font-size: 16px;\r\n      }\r\n      .van-icon {\r\n        color: red;\r\n        font-size: 20px;\r\n        position: absolute;\r\n        right: 4px;\r\n        bottom: 4px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./FoodListItem.vue?vue&type=template&id=d495a71a&scoped=true\"\nimport script from \"./FoodListItem.vue?vue&type=script&lang=js\"\nexport * from \"./FoodListItem.vue?vue&type=script&lang=js\"\n\nimport \"./FoodListItem.vue?vue&type=style&index=0&id=d495a71a&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d495a71a\"]])\n\nexport default __exports__","import { render } from \"./FoodList.vue?vue&type=template&id=4d718e66&scoped=true\"\nimport script from \"./FoodList.vue?vue&type=script&lang=js\"\nexport * from \"./FoodList.vue?vue&type=script&lang=js\"\n\nimport \"./FoodList.vue?vue&type=style&index=0&id=4d718e66&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4d718e66\"]])\n\nexport default __exports__","import { render } from \"./Store.vue?vue&type=template&id=52bf6b7c&scoped=true\"\nimport script from \"./Store.vue?vue&type=script&lang=js\"\nexport * from \"./Store.vue?vue&type=script&lang=js\"\n\nimport \"./Store.vue?vue&type=style&index=0&id=52bf6b7c&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\vue3.0\\\\vue-waimai\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52bf6b7c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_van_icon","name","onClick","$setup","toBack","_createElementVNode","_toDisplayString","$props","title","edit","_cache","args","handleEdit","store","state","props","setup","router","useRouter","useStore","back","cartList","length","commit","Toast","__exports__","render","_hoisted_2","showCheckBox","_createBlock","_component_van_checkbox","item","id","src","pic","_hoisted_4","_hoisted_5","add","$event","handleAdd","_component_van_stepper","num","onChange","handleChange","_hoisted_6","price","_component_Header","_hoisted_3","_ctx","img","_hoisted_7","_component_van_tabs","color","_Fragment","_renderList","storeData","index","_component_van_tab","_component_FoodList","foodData","data","_component_van_action_bar","_component_van_action_bar_icon","icon","text","badge","goCart","_component_van_action_bar_button","type","handleAddCart","goBuy","_component_van_tree_select","activeIndex","height","items","onClickNav","navClick","content","_withCtx","subItem","_component_list_item","components","FoodListItem","ListItem","reactive","initData","newArray","forEach","push","children","i","value","detail","console","log","toRefs","Header","FoodList","newList"],"sourceRoot":""}